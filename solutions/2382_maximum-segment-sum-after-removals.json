{
    "problemName": "maximum-segment-sum-after-removals",
    "language": "cpp",
    "code": "class  Solution  {   public :   vector < long  long >  maximumSegmentSum ( vector < int >&  nums ,   vector < int >&  removeQueries )  {   const  int  n  =  nums . size ();   long  maxSum  =  0 ;   vector < long  long >  ans ( n );     vector < long  long >  sum ( n );     vector < int >  count ( n );   for  ( int  i  =  n  -  1 ;  i  >=  0 ;  -- i )  {   ans [ i ]  =  maxSum ;   const  int  j  =  removeQueries [ i ];     const  long  leftSum  =  j  >  0  ?  sum [ j  -  1 ]  :  0 ;   const  long  rightSum  =  j  +  1  <  n  ?  sum [ j  +  1 ]  :  0 ;   const  long  segmentSum  =  nums [ j ]  +  leftSum  +  rightSum ;     const  int  leftCount  =  j  >  0  ?  count [ j  -  1 ]  :  0 ;   const  int  rightCount  =  j  +  1  <  n  ?  count [ j  +  1 ]  :  0 ;   const  int  segmentCount  =  1  +  leftCount  +  rightCount ;     const  int  l  =  j  -  leftCount ;   const  int  r  =  j  +  rightCount ;   sum [ l ]  =  segmentSum ;   sum [ r ]  =  segmentSum ;   count [ l ]  =  segmentCount ;   count [ r ]  =  segmentCount ;   maxSum  =  max ( maxSum ,  segmentSum );   }   return  ans ;   }  }; "
}